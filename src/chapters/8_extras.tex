\begin{frame}[fragile]{Native method structure: Template}
    \begin{center}
        \begin{minipage}{0.8\textwidth} % Adjust width as needed
            \begin{lstlisting}[
                language=c,
                numbers=left,
                basicstyle=\tiny\ttfamily,
                caption={Auto generated c++ template by Java},
                captionpos=b,
                backgroundcolor=\color{lightgray},   % Background color
                numberstyle=\color{pink},            % Line number color
                keywordstyle=\color{keywordcolor}\bfseries, % Keywords color
                commentstyle=\color{commentcolor},   % Comment color
                stringstyle=\color{stringcolor}      % String color
            ]
/* DO NOT EDIT THIS FILE - it is machine generated */
#include <jni.h>
/* Header for class Main */

#ifndef _Included_Main
#define _Included_Main
#ifdef __cplusplus
extern "C" {
#endif
/*
 * Class:     Main
 * Method:    add
 * Signature: (LVectors;LVectors;)LVectors;
 */
JNIEXPORT jobject JNICALL Java_Main_add
  (JNIEnv *, jobject, jobject, jobject);

#ifdef __cplusplus
}
#endif
#endif
            \end{lstlisting}
        \end{minipage}
    \end{center}
\end{frame}

\begin{frame}[fragile]{JNI: Native method structure}
    \begin{center}
        \begin{minipage}{0.8\textwidth} % Adjust width as needed
            \begin{lstlisting}[
                language=c,
                numbers=left,
                basicstyle=\tiny\ttfamily,
                caption={Native method implemenation in c++},
                captionpos=b,
                backgroundcolor=\color{lightgray},   % Background color
                numberstyle=\color{pink},            % Line number color
                keywordstyle=\color{keywordcolor}\bfseries, % Keywords color
                commentstyle=\color{commentcolor},   % Comment color
                stringstyle=\color{stringcolor}      % String color
            ]
JNIEXPORT jobject JNICALL Java_Main_add
  (JNIEnv *env, jobject caller, jobject v1, jobject v2){

    jclass numberClass=env->GetObjectClass( v1); //to get the class

    jfieldID fieldID_x=env->GetFieldID(numberClass,"x","D");
    jfieldID fieldID_y=env->GetFieldID(numberClass,"y","D");

    //get the field by its field id from the object p
    jdouble x1=env->GetDoubleField(v1,fieldID_x);
    jdouble x2=env->GetDoubleField(v2,fieldID_x);

    jdouble temp_r= x1+x2;

    //find the method ID of constructor of NumberClass
    jmethodID numberClass_init_id=env->GetMethodID(numberClass,"<init>","(DD)V");

    //create an object of NumberClass type
    jobject temp_obj=env->NewObject(numberClass,numberClass_init_id,temp_r,temp_i);

    return temp_obj;
  }
            \end{lstlisting}
        \end{minipage}
    \end{center}
\end{frame}
